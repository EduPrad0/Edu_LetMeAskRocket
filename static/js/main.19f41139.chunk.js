(this.webpackJsonpletmeask=this.webpackJsonpletmeask||[]).push([[0],{40:function(e,t,a){},54:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(9),r=a.n(n),s=a(42),c=a.n(s),i=a(29),o=a(13),u=a(0),j=a.n(u),l=a(2),d=a(17),b=a(32);a(51),a(64);b.a.initializeApp({apiKey:"AIzaSyAVzVvDO67Cij1RgFfT_EjgJrJNwJ2IQp4",authDomain:"letmeask-rocketseat-93040.firebaseapp.com",databaseURL:"https://letmeask-rocketseat-93040-default-rtdb.firebaseio.com",projectId:"letmeask-rocketseat-93040",storageBucket:"letmeask-rocketseat-93040.appspot.com",messagingSenderId:"97325525311",appId:'"1:97325525311:web:927c472e0c995ecc204b8a"'});var p=b.a.auth(),h=b.a.database(),m=a.p+"static/media/illustration.ae7276f0.svg",x=a.p+"static/media/logo.a88331cb.svg",O=a.p+"static/media/google-icon.df15d8e5.svg",f=a(43),v=(a(54),a(7));function g(e){return Object(v.jsx)("button",Object(f.a)({className:"button"},e))}a(40);var k=Object(n.createContext)({});function w(e){var t=Object(n.useState)(),a=Object(d.a)(t,2),r=a[0],s=a[1];function c(){return(c=Object(l.a)(j.a.mark((function e(){var t,a,n,r,c,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new b.a.auth.GoogleAuthProvider,e.next=3,p.signInWithPopup(t);case 3:if(!(a=e.sent).user){e.next=9;break}if(n=a.user,r=n.displayName,c=n.photoURL,i=n.uid,r&&c){e.next=8;break}throw new Error("Missing information from Google Account");case 8:s({id:i,nome:r,avatar:c});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=p.onAuthStateChanged((function(e){if(e){var t=e.displayName,a=e.photoURL,n=e.uid;if(!t||!a)throw new Error("Missing information from Google Account");s({id:n,nome:t,avatar:a})}}));return function(){e()}}),[]),Object(v.jsx)(k.Provider,{value:{user:r,signInWithGoogle:function(){return c.apply(this,arguments)}},children:e.children})}function y(){return Object(n.useContext)(k)}function C(){var e=Object(o.f)(),t=y(),a=t.user,r=t.signInWithGoogle,s=Object(n.useState)(""),c=Object(d.a)(s,2),i=c[0],u=c[1];function b(){return(b=Object(l.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=3;break}return t.next=3,r();case 3:e.push("/rooms/new");case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(){return(p=Object(l.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),""!==i.trim()){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,h.ref("rooms/".concat(i)).get();case 5:if(t.sent.exists()){t.next=9;break}return alert("Room does not exist."),t.abrupt("return");case 9:e.push("/rooms/".concat(i));case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(v.jsxs)("div",{id:"page-auth",children:[Object(v.jsxs)("aside",{children:[Object(v.jsx)("img",{src:m,alt:"Ilustra\xe7\xe3o simbolizando perguntas e respostas"}),Object(v.jsx)("strong",{children:"Crie salas de Q&A ao vivo"}),Object(v.jsx)("p",{children:"Tire as d\xfavidas da sua audi\xeancia em tempo-real"})]}),Object(v.jsx)("main",{children:Object(v.jsxs)("div",{className:"main-content",children:[Object(v.jsx)("img",{src:x,alt:"LetMeAsk"}),Object(v.jsxs)("button",{onClick:function(){return b.apply(this,arguments)},className:"create-room",children:[Object(v.jsx)("img",{src:O,alt:"google-icon"}),"Crie sua sala com o Google"]}),Object(v.jsx)("div",{className:"separator",children:"ou entre em uma sala"}),Object(v.jsxs)("form",{onSubmit:function(e){return p.apply(this,arguments)},children:[Object(v.jsx)("input",{type:"text",placeholder:"Digite o c\xf3digo da sala",onChange:function(e){return u(e.target.value)},value:i}),Object(v.jsx)(g,{type:"submit",children:"Entrar na sala"})]})]})})]})}function N(){var e=y().user,t=Object(o.f)(),a=Object(n.useState)(""),r=Object(d.a)(a,2),s=r[0],c=r[1];function u(){return(u=Object(l.a)(j.a.mark((function a(n){var r,c;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),""!==s.trim()){a.next=3;break}return a.abrupt("return");case 3:return r=h.ref("rooms"),a.next=6,r.push({title:s,authorId:null===e||void 0===e?void 0:e.id});case 6:c=a.sent,t.push("/rooms/".concat(c.key));case 8:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return Object(v.jsxs)("div",{id:"page-auth",children:[Object(v.jsxs)("aside",{children:[Object(v.jsx)("img",{src:m,alt:"Ilustra\xe7\xe3o simbolizando perguntas e respostas"}),Object(v.jsx)("strong",{children:"Crie salas de Q&A ao vivo"}),Object(v.jsx)("p",{children:"Tire as d\xfavidas da sua audi\xeancia em tempo-real"})]}),Object(v.jsx)("main",{children:Object(v.jsxs)("div",{className:"main-content",children:[Object(v.jsx)("img",{src:x,alt:"LetMeAsk"}),Object(v.jsx)("h2",{children:"Criar uma Nova sala"}),Object(v.jsxs)("form",{onSubmit:function(e){return u.apply(this,arguments)},children:[Object(v.jsx)("input",{type:"text",placeholder:"Nome da sala",onChange:function(e){return c(e.target.value)},value:s}),Object(v.jsx)(g,{type:"submit",children:"Criar sala"})]}),Object(v.jsxs)("p",{children:["Quer entrar em uma sala existente? ",Object(v.jsx)(i.b,{to:"/",children:"Clique aqui"})]})]})})]})}var A=a.p+"static/media/copy.f622509a.svg";a(60);function I(e){return Object(v.jsxs)("button",{className:"room-code",onClick:function(){navigator.clipboard.writeText(e.code)},children:[Object(v.jsx)("div",{children:Object(v.jsx)("img",{src:A,alt:"Copiar cod sala"})}),Object(v.jsxs)("span",{children:["Sala #$",e.code]})]})}a(61);function S(){y().user;var e=Object(o.g)(),t=Object(n.useState)(""),a=Object(d.a)(t,2),r=a[0],s=a[1],c=e.id;return Object(v.jsxs)("div",{id:"page-room",children:[Object(v.jsx)("header",{children:Object(v.jsxs)("div",{className:"content",children:[Object(v.jsx)("img",{src:x,alt:"LetMeAsk"}),Object(v.jsx)(I,{code:c})]})}),Object(v.jsxs)("main",{children:[Object(v.jsxs)("div",{className:"room-title",children:[Object(v.jsx)("h1",{children:"Sala React"}),Object(v.jsx)("span",{children:"4 perguntas"})]}),Object(v.jsxs)("form",{children:[Object(v.jsx)("textarea",{placeholder:"O que voc\xea quer perguntar",onChange:function(e){return s(e.target.value)},value:r}),Object(v.jsxs)("div",{className:"form-footer",children:[Object(v.jsxs)("span",{children:["Para enviar uma pergunta, ",Object(v.jsx)("button",{children:"fa\xe7a seu login"}),"."]}),Object(v.jsx)(g,{type:"submit",children:" Enviar pergunta "})]})]})]})]})}var E=function(){return Object(v.jsx)(i.a,{children:Object(v.jsx)(w,{children:Object(v.jsxs)(o.c,{children:[Object(v.jsx)(o.a,{path:"/",exact:!0,component:C}),Object(v.jsx)(o.a,{path:"/rooms/new",component:N}),Object(v.jsx)(o.a,{path:"/rooms/:id",component:S})]})})})};a(62);c.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(E,{})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.19f41139.chunk.js.map